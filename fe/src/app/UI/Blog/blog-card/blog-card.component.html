<div
  class="card rounded-3xl border border-gray-300 shadow-md overflow-hidden cursor-pointer w-60 h-auto"
  (click)="openPopup()"
>
  <div class="card-image h-40 relative z-0">
    <div
      class="absolute inset-0"
      [style.background-image]="'url(' + article.thumbnail + ')'"
      [style.background-size]="'cover'"
      [style.background-position]="'center'"
    ></div>
  </div>

  <div
    class="flex flex-col justify-between h-[180px] py-4 px-2 rounded-t-3xl z-10 bg-white relative -top-6 -mb-4"
  >
    <div class="flex justify-between">
      <div class="flex flex-wrap gap-2 mb-2">
        <ng-container *ngFor="let tag of tags | slice: 0 : 2">
          <div
            class="text-xs font-bold py-1 px-2 rounded-lg text-white bg-[var(--main-theme)]"
          >
            {{ tag.name.toUpperCase() }}
          </div>
        </ng-container>
      </div>
    </div>

    <h3
      class="font-bold mb-1 text-2xl truncate-title"
      nz-tooltip="{{ article.title }}"
      nzTooltipPlacement="right"
    >
      {{ article.title }}
    </h3>
    <div class="flex justify-between">
      <p class="author text-sm mb-2" style="color: var(--font-color)">
        {{ UserName }}
      </p>
      <p class="date text-sm mb-2" style="color: var(--font-color)">
        {{ date }}
      </p>
    </div>

    <div
      class="card-stats flex gap-x-5 text-sm"
      style="color: var(--font-color)"
    >
      <span class="views flex items-center text-xl">
        <span
          nz-icon
          nzType="caret-up"
          nzTheme="outline"
          class="text-3xl"
        ></span>
        <span class="ml-2">{{ upvotes | number }}</span>
      </span>
      <span class="views flex items-center text-xl">
        <span
          nz-icon
          nzType="caret-down"
          nzTheme="outline"
          class="text-3xl"
        ></span>
        <span class="ml-2">{{ downvotes | number }}</span>
      </span>
    </div>
  </div>
</div>

<app-blog-popup
  *ngIf="isPopupVisible"
  [article]="article"
  [isProfile]="isProfile"
  (close)="closePopup()"
>
</app-blog-popup>
